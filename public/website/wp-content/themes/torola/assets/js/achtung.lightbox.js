/*!
 * Achtung Lightbox Gallery v1.3.0
 * Copyright 2018 AchtungThemes
 */
!function(e){window.AGA=function(a,t){var i=this;this.data=[],this.galleries=document.querySelectorAll(a),this.defaults={thumbnails:!1,thumbnailsPinned:!1,idle:5e3,fullscreen:!0,zoom:!0,loop:!0,counter:!0,childSelector:".lightbox-link",singleSelector:".lightbox-link-single"},void 0!==t&&(i.defaults=e.extend({},i.defaults,t)),this.isTouch=window.innerWidth<1025;var o=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled;this.galleries.forEach(function(a,t){var n=e.extend({},i.defaults,e(a).data());o||(n.fullscreen=!1);var s=[];a.querySelectorAll(n.childSelector).forEach(function(e,a){s.push({src:e.href,title:e.getAttribute("data-title")||e.getAttribute("title"),thumb:e.getAttribute("data-thumbnail")}),e.addEventListener("click",function(e){e.preventDefault(),i.init(t,a,n)})}),i.data.push(s)}),document.querySelectorAll(i.defaults.singleSelector).forEach(function(e){var a=i.data.length,t=i.defaults;t.thumbnails=!1,e.addEventListener("click",function(e){e.preventDefault(),i.init(a,0,t)}),i.data.push([{src:e.href,title:e.getAttribute("data-title")||e.getAttribute("title")}])})},AGA.prototype.init=function(a,t,i){var o=this,n=this.data[a],s=n.length;this.firstSlide=!0,this.agaWrapper=e('<div class="aga-wrapper animating">'),this.container=e('<div class="swiper-container">'),this.wrapper=e('<div class="swiper-wrapper">'),this.caption=e('<div class="aga-caption">'),this.bottomBar=e('<div class="aga-bottombar">'),this.topBar=e('<div class="aga-topbar">'),this.counter=e('<div class="aga-counter">'),this.zoomBtn=e('<div class="aga-zoom aga-btn">'),this.fullscreenBtn=e('<div class="aga-fullscreen aga-btn">'),this.closeBtn=e('<div class="aga-close aga-btn">'),n.forEach(function(a,i){var n='<img data-src="'+a.src+'" alt="" class="'+(i==t?"first":"")+'">';a.src.match(/\.(jpe?g|png|gif)$/)||(a.src.indexOf("youtube.com/")>-1?n='<iframe data-src="'+a.src.replace("watch?v=","embed/")+(i==t?"?autoplay=1":"")+'" frameborder="0" allowfullscreen></iframe>':a.src.indexOf("vimeo.com/")>-1?n='<iframe data-src="https://player.vimeo.com/video/'+a.src.split(".com/")[1]+"?title=0&byline=0&portrait=0&transparent=0"+(i==t?"&autoplay=1":"")+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':a.src.match(/\.(mp4|webm)$/)&&(n='<video data-src="'+a.src+'" preload="false" controls '+(i==t?"autoplay":"")+"></video>")),o.wrapper.append(e('<div class="swiper-slide loading">').append(e('<div class="slide-media">').append(n)))}),i.customClass&&o.agaWrapper.addClass(i.customClass),e("body").addClass("aga-wrapper-active"),e("body").append(o.agaWrapper.append(o.topBar.append(i.counter&&s>1&&o.counter,o.closeBtn,i.fullscreen&&o.fullscreenBtn,i.zoom&&!o.isTouch&&o.zoomBtn),o.container.append(o.wrapper),o.bottomBar.append(o.caption))),setTimeout(function(){o.agaWrapper.removeClass("animating")},10),s>1&&o.container.append('<div class="aga-prev swiper-no-swiping"></div><div class="aga-next swiper-no-swiping"></div>');var l={initialSlide:t,spaceBetween:10,keyboard:!0,loop:i.loop,on:{}};if(o.container.find(".aga-next").on("click",function(){u.slideNext(0)}),o.container.find(".aga-prev").on("click",function(){u.slidePrev(0)}),l.on.slideChangeTransitionStart=function(){if(o.counter.html("<span>"+(this.realIndex+1)+"</span> / "+s),o.caption.html(n[this.realIndex].title),i.thumbnails&&(r.find(".swiper-slide").removeClass("active").eq(this.realIndex).addClass("active"),r[0].swiper.slideTo(this.realIndex)),i.zoom)if(o.isTouch){var a=e(o.container[0].swiper.slides[o.container[0].swiper.previousIndex]).find(".slide-media");a.length&&o.resetMobileZoom(a)}else o.zoomOut();var t=e(".swiper-slide-active:not(.loaded)");if(t.length){var l=t.find("[data-src]");l.length&&(l.on("load",function(){t.removeClass("loading").addClass("loaded"),o.preload(),i.zoom&&!o.isTouch&&o.zoomableCheck()}),l.attr("src",l.attr("data-src")).removeAttr("data-src"),"VIDEO"==l[0].tagName&&l.trigger("load"))}else o.preload(),i.zoom&&!o.isTouch&&o.zoomableCheck()},l.on.init=l.on.slideChangeTransitionStart,i.thumbnails){o.agaWrapper.addClass("has-thumbnails");var r=e('<div class="aga-thumbnails swiper-container">'),c=e('<div class="aga-thumbnails-btn">Thumbnails <i></i></div>'),d=e('<div class="swiper-wrapper">');n.forEach(function(a){var t=a.thumb||"";d.append(e('<div class="swiper-slide">').append(e('<div class="aga-thumb" style="background-image: url('+t+')">')))}),o.bottomBar.append(c,r.append(d));new Swiper(r[0],{initialSlide:t,slidesPerView:"auto",freeMode:!0,spaceBetween:1,slideToClickedSlide:!0,simulateTouch:!0,centeredSlides:!0,mousewheel:!0});r.on("click",".swiper-slide",function(){u.slideToLoop(e(this).index())}),c.on("click",function(){o.agaWrapper.toggleClass("has-thumbnails-pinned")}),i.thumbnailsPinned&&setTimeout(function(){o.agaWrapper.addClass("has-thumbnails-pinned")},500)}i.zoom&&(o.isTouch?o.wrapper.find("img").each(function(){var a=e(this).closest(".slide-media"),t=new PinchZoom(a[0],{});a[0].pz=t,e(window).on("resize.agaMobileZoom",function(){o.resetMobileZoom(a)})}):(o.zoomBtn.on("click",o.toggleZoom.bind(o)),o.wrapper.on("click","img",function(e){o.agaWrapper.hasClass("has-zoomable-img")&&o.toggleZoom.call(o,e)})));var u=new Swiper(o.container[0],l);o.wrapper.add(o.closeBtn).on("click",o.close.bind(o)),e(document).on("keyup.agalb",function(e){27==e.keyCode&&o.close.call(o)}),o.wrapper.on("click",".slide-media > *",function(e){e.stopPropagation()}),!o.isTouch&&i.idle&&o.idle(i.idle),o.isTouch&&o.wrapper.on("click","img",function(e){o.agaWrapper.toggleClass("aga-idle")}),i.fullscreen&&o.fullscreenBtn.on("click",o.toggleFullscreen.bind(o)),i.zoom&&!o.isTouch&&e(window).on("resize.agalb",o.zoomableCheck.bind(o))},AGA.prototype.preload=function(){e(".swiper-slide-next:not(.loaded) [data-src], .swiper-slide-prev:not(.loaded) [data-src]").each(function(){var a=e(this);a.on("load",function(){a.removeAttr("data-src").closest(".swiper-slide").removeClass("loading").addClass("loaded")}),a.attr("src",a.attr("data-src")),"VIDEO"==a[0].tagName&&a.trigger("load")}),this.firstSlide=!1},AGA.prototype.zoomableCheck=function(){var e=this.agaWrapper.find(".swiper-slide-active .slide-media img"),a=e.length&&(e[0].naturalWidth>this.container.width()||e[0].naturalHeight>this.container.height()),t=this.agaWrapper[0].classList,i="has-zoomable-img";a?t.add(i):t.remove(i)},AGA.prototype.zoomIn=function(a){var t=e(this.container[0].swiper.slides[this.container[0].swiper.activeIndex]),i=t.find(".slide-media"),o=t.find("img");e(window).on("resize.agaZoom",this.zoomOut.bind(this)),t.addClass("is-zoomed"),o.addClass("swiper-no-swiping zoomed"),this.agaWrapper.addClass("has-zoomed-img");var n=o[0].naturalWidth/o.width();o.css("transform","scale("+n+")");var s=this.container.width()/2+this.container.offset().left,l=this.container.height()/2+this.container.offset().top,r=(o[0].naturalWidth-this.container.width())/this.container.width();r<0&&(r=0);var c=(o[0].naturalHeight-this.container.height())/this.container.height();if(c<0&&(c=0),e(document).on("mousemove.agaZoom",function(e){var a=(s-e.pageX)*r,t=(l-e.pageY)*c;i.css({transform:"translate3d("+a+"px, "+t+"px, 0)"})}),a){var d=e.Event("mousemove");d.pageX=a.pageX,d.pageY=a.pageY,i.addClass("transition"),setTimeout(function(){i.removeClass("transition")},200),e(document).trigger(d)}},AGA.prototype.zoomOut=function(){var a=this.container.find(".swiper-slide.is-zoomed");if(a.length){var t=a.find(".slide-media"),i=a.find("img");t.addClass("transition"),setTimeout(function(){t.removeClass("transition")},200),t.removeAttr("style"),i.removeAttr("style").one("transitionend",function(){i.removeClass("swiper-no-swiping zoomed").off(".agaZoom")}),e(window).off(".agaZoom"),e(document).off(".agaZoom"),this.agaWrapper.removeClass("has-zoomed-img"),a.removeClass("is-zoomed")}},AGA.prototype.toggleZoom=function(a){e(".swiper-slide-active img").hasClass("zoomed")?this.zoomOut.call(this):this.zoomIn.call(this,a)},AGA.prototype.resetMobileZoom=function(e){var a=e[0].pz;a&&(a.zoomFactor=1,a.offset={x:0,y:0},a.update())},AGA.prototype.idle=function(a){var t=this;t.idleTimeout=null,e(document).on("mousemove.agalb keydown.agalb touchstart.agalb click.agalb wheel.agalb",i);function i(){clearTimeout(t.idleTimeout),t.agaWrapper.removeClass("aga-idle"),t.idleTimeout=setTimeout(function(){t.agaWrapper.addClass("aga-idle")},a)}i()},AGA.prototype.isFullscreen=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},AGA.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.agaWrapper.removeClass("fullscreen")},AGA.prototype.requestFullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.agaWrapper.addClass("fullscreen")},AGA.prototype.toggleFullscreen=function(){this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()},AGA.prototype.close=function(){var a=this;a.agaWrapper.addClass("animating").one("transitionend",function(){a.agaWrapper.remove(),a.isFullscreen()&&a.exitFullscreen()}),e("body").removeClass("aga-wrapper-active"),e(window).off(".agaMobileZoom .agalb .agaZoom"),e(document).off(".agalb .agaZoom"),clearTimeout(a.idleTimeout)},new AGA(".lightbox")}(jQuery);