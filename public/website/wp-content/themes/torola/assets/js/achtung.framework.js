/*!
 * Achtung Framework v1.6.3
 * Copyright 2016-2018 AchtungThemes
 */
!function($){$.fn.elData=function(e,t){var a=this.data(e);return void 0!=a&&""!=this.attr("data-"+e)?a:t},window.raf=function(e,t){var a;window.addEventListener(e,function(){cancelAnimationFrame(a),a=requestAnimationFrame(t)}),window.addEventListener("load",t)},window.ScrollListener=function(e,t){var a=this;if(t.navigation&&(this.navItems={},e=[].map.call(document.querySelectorAll(e),function(e){var t=e.getAttribute("href");return!t.match(/^#.+/)||(a.navItems[t]=e,t)}).join(",")),e&&"string"==typeof e)this.nodes=document.querySelectorAll(e);else if(e instanceof Element)this.nodes=[e];else{if(!(e instanceof NodeList))return;this.nodes=e}this.defaults={offsetTop:0,offsetBottom:0,once:!0,sequenceDelay:!1},this.options=this.defaults;for(var o in t)this.options[o]=t[o];this.options.onDisappear&&(this.options.once=!1),this.sequenceTimeout=null,this.sequenceArray=[],(this.options.onAppear||this.options.onDisappear)&&[].forEach.call(a.nodes,function(e){a.listenTo(e)}),(this.options.active||this.options.navigation)&&this.activeCheck()},ScrollListener.prototype.listenTo=function(e){var t=this,a=!1,o=null,i=function(){cancelAnimationFrame(o),o=requestAnimationFrame(function(){var o=e.getBoundingClientRect();o.top<window.innerHeight-t.options.offsetBottom&&o.bottom>t.options.offsetTop?(t.options.once&&window.removeEventListener("scroll",i),t.options.onAppear&&!a&&(t.options.sequenceDelay?(t.sequenceArray.push(e),clearTimeout(t.sequenceTimeout),t.sequenceTimeout=setTimeout(function(){t.sequenceArray.forEach(function(e,a){setTimeout(function(){t.options.onAppear.call(e)},t.options.sequenceDelay*a)}),t.sequenceArray=[]},100)):t.options.onAppear.call(e)),a=!0):a&&(t.options.onDisappear&&t.options.onDisappear.call(e),a=!1)})};i(),window.addEventListener("scroll",i)},ScrollListener.prototype.activeCheck=function(){var e=this,t=[],a=null,o=function(){t=[];for(var o=0,i=e.nodes.length;o<i;o++){var n=e.nodes[o];if(!(n.getBoundingClientRect().top<window.innerHeight/2))break;t.push(n)}var s=t[t.length-1];a!=s&&(e.options.active&&e.options.active.call(s),e.options.navigation&&(a&&e.navItems["#"+a.id].classList.remove("active"),e.navItems["#"+s.id].classList.add("active")),a=s)};o(),window.addEventListener("scroll",o)},function(){if(document.body.classList.contains("sticky-header")){var e=window.pageYOffset;raf("scroll",function(){var t=e>150&&e+window.innerHeight<document.body.scrollHeight-150,a=window.pageYOffset>e;t?a?(document.body.classList.add("scrolling-down"),e=window.pageYOffset):e-window.pageYOffset>30&&(document.body.classList.remove("scrolling-down"),e=window.pageYOffset):(document.body.classList.remove("scrolling-down"),e=window.pageYOffset)})}}(),[].forEach.call(document.querySelectorAll("[data-background], [data-poster]"),function(e){if(!e.classList.contains("background-parallax")){var t=e.getAttribute("data-background")||e.getAttribute("data-poster");t&&(t.match("^rgb")||t.match("^#")?e.style.backgroundColor=t:e.classList.contains("lazy-load")?new ScrollListener(e,{onAppear:function(){this.style.backgroundImage="url("+t+")"},offsetTop:-200,offsetBottom:-200}):e.style.backgroundImage="url("+t+")")}}),document.querySelectorAll("[data-overlay]").forEach(function(e){var t=e.getAttribute("data-overlay"),a=t&&t.split(";")[0]||"#000",o=t&&t.split(";")[1]||.5,i=document.createElement("div");i.classList.add("content-overlay"),i.style.backgroundColor=a,i.style.opacity=o,e.insertBefore(i,e.firstChild)}),document.querySelectorAll(".background-parallax").forEach(function(e){e.classList.contains("lazy-load")?new ScrollListener(e,{onAppear:function(){new Parallax(e)},offsetTop:-200,offsetBottom:-200}):new Parallax(e)}),window.Appear={init:function(){document.querySelectorAll("[data-animation]").forEach(function(e){$(e).closest(".swiper-slide").length||(e.style.animation=e.getAttribute("data-animation")+" both",isNaN(parseInt(e.style.animationDuration))&&(e.style.animationDuration="1s"),e.style.opacity=0,new ScrollListener(e,{onAppear:function(){this.removeAttribute("data-animation"),this.classList.add("animated")},offsetTop:100,offsetBottom:100}))})}},document.querySelectorAll(".reveal-sections-wrapper").forEach(function(e){e.querySelectorAll(".reveal-section").forEach(function(e,t){if(0!=t){var a=e.querySelector(".reveal-section-inner");raf("scroll",function(){var t=e.getBoundingClientRect().top;t<window.innerHeight&&t>0?(e.classList.add("is-fixed"),a.style.opacity=1-t/window.innerHeight):(e.classList.remove("is-fixed"),a.style.opacity=1)})}})}),$(".thumbnail-video").each(function(){var e,t,a=$(this),o=a.attr("data-src");o.indexOf("youtube.com/")>-1?(t=o.split("watch?v=")[1],e='<iframe src="https://www.youtube.com/embed/'+t+'?autoplay=1" frameborder="0" allowfullscreen></iframe>'):o.indexOf("vimeo.com/")>-1?(t=o.split(".com/")[1],e='<iframe src="https://player.vimeo.com/video/'+t+'?autoplay=1&title=0&byline=0&portrait=0&transparent=0" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'):e='<video src="'+o+'" autoplay controls></video>',a.one("click",function(){a.append(e),setTimeout(function(){a.addClass("has-started")},50)})}),$(".video-background").each(function(){var self=$(this);if(!(window.innerWidth<1025)){var volume=self.elData("volume",5);self.elData("muted",!1)&&(volume=0);var loop=self.elData("loop",!0)?1:0,autoplay=self.elData("autoplay",!1)&&!self.closest(".swiper-slide").length,controls=["play","progress","current-time","mute","volume","captions","fullscreen"];self.elData("controls",!1)||(controls=[]),self.elData("play-icon",!0)&&controls.push("play-large");var src=self.attr("data-src"),type="";src&&(src.indexOf("youtube.com/")>-1?type="youtube":src.indexOf("vimeo.com/")>-1&&(type="vimeo"),type?(self.attr("data-type",type),self.attr("data-video-id",src)):self[0].src=src);var player=plyr.setup(self[0],{controls:controls,loop:loop,hideControls:!0});self[0].videoPlayer=player[0],player[0]&&player[0].on("ready",function(){var wrapper=$(player[0].getContainer());wrapper.addClass("video-bg-wrapper"),wrapper.find(".plyr__controls").addClass("noswipe"),player[0].setVolume(volume),autoplay&&player[0].play(),loop&&player[0].on("ended",function(){player[0].play()});var poster=self.attr("data-poster");if(poster&&(wrapper.addClass("has-poster"),wrapper.css("background-image","url("+poster+")")),player[0].on("play",function(){wrapper.addClass("has-started")}).on("ended",function(){wrapper.removeClass("has-started")}),!self.hasClass("fit")){var video=$(player[0].getMedia()),vr=eval(self.elData("video-ratio",16/9));function makeVideoCover(){var e=wrapper.width()/wrapper.height(),t=vr>e?vr/e:e/vr;video.css({transform:"translate3d(-50%, -50%, 0) scale("+t+")"})}window.raf("resize",makeVideoCover),setTimeout(makeVideoCover,1500)}})}}),$(".swiper").each(function(){var e=$(this),t=e.elData("loop",!1)&&!e.find(".video-background").length;e.addClass("swiper-container"),e.wrapInner('<div class="swiper-wrapper">'),e.elData("nav",!1)&&e.append('<div class="swiper-prev noswipe"></div><div class="swiper-next noswipe"></div>'),e.elData("pagination",!1)&&e.append('<div class="swiper-pagination noswipe">'),e.elData("scrollbar",!1)&&e.append('<div class="swiper-scrollbar">');var a={speed:600,autoplay:!1,loop:t,loopedSlides:$(".swiper-slide",e).length,effect:"slide",direction:"horizontal",slidesPerView:1,spaceBetween:0,centeredSlides:!1,freeMode:!1,parallax:!1,slideToClickedSlide:!0,controlBy:"container",grabCursor:!0,keyboard:!1,mousewheel:!1,simulateTouch:!0,noSwipingClass:"noswipe",on:{}};$.extend(a,e.data()),a.navigation={nextEl:e.find(".swiper-next")[0],prevEl:e.find(".swiper-prev")[0]},a.pagination={el:e.find(".swiper-pagination")[0],clickable:!0},a.scrollbar={el:e.find(".swiper-scrollbar")[0],draggable:!0,hide:!1,snapOnRelease:!0},e.data("autoplay")&&(a.autoplay={delay:e.data("autoplay"),disableOnInteraction:!0,stopOnLast:!1});var o=void 0!=a.spaceTablet?a.spaceTablet:a.spaceBetween,i=void 0!=a.spaceMobile?a.spaceMobile:o;a.breakpoints={768:{slidesPerView:a.slidesMobile||a.slidesTablet||a.slidesPerView,spaceBetween:i},1024:{slidesPerView:a.slidesTablet||a.slidesPerView,spaceBetween:o}},e.find(".video-background").length&&(a.on.slideChangeTransitionStart=function(){var t=e.find(".plyr--playing");t.length&&t.find(".video-background")[0].videoPlayer.pause()},a.on.slideChangeTransitionEnd=function(){var t=e.find('.swiper-slide-active .plyr .video-background[data-autoplay="true"]');t.length&&t[0].videoPlayer.play()},a.on.init=a.on.slideChangeTransitionEnd),e.find(".lightbox-link:not(.overlay)").each(function(){this.classList.add("noswipe")}),$(window).on("load",function(){"auto"==a.slidesPerView&&navigator.userAgent.indexOf("Chrome")>-1&&e.hide().show(0),new Swiper(e[0],a)})}),$(window).on("load",function(){$(".swiper[data-sync]").each(function(){var e=$(this),t=e[0].swiper,a=e.data("sync"),o=$('.swiper[data-swiper-name="'+a+'"]');a&&o.length&&(t.controller.control=o[0].swiper)})}),$(".justified").each(function(){var e=$(this),t=e.data("target-height")||400,a=e.data("gutter")||0;e.css({padding:a+"px "+a+"px 0",position:"relative",overflow:"hidden"});function o(){e.removeWhitespace().collagePlus({targetHeight:t,effect:"effect-2",allowPartialLastRow:!0})}e.imagesLoaded(o);var i=null;$(window).on("resize",function(){$(".justified a").css("opacity",0),i&&clearTimeout(i),i=setTimeout(o,200)})}),[].forEach.call(document.querySelectorAll('a[href^="#"]:not([href="#"])'),function(e){var t=e.getAttribute("data-scroll-speed")||1e3,a=e.getAttribute("data-scroll-offset")||0,o=document.querySelector(e.getAttribute("href"));e.addEventListener("click",function(e){e.preventDefault();var i=window.scrollY+o.getBoundingClientRect().top-a;$("html, body").animate({scrollTop:i},t,"easeInOutExpo")})}),$(".mail-form").submit(function(e){e.preventDefault();var t=$(this);if(t[0].checkValidity()){var a={items:{}};t.data("mailto")&&(a.mailto=t.data("mailto")),t.data("subject")&&(a.subject=t.data("subject"));var o=[];t.find("[name]").each(function(){var e=$(this).attr("name");if(!(o.indexOf(e)>-1)){var t=$(this).val();null!==t&&void 0!==t&&""!==t&&("radio"==$(this).attr("type")&&(t=$("[name="+e+"]:checked").val()),"checkbox"==$(this).attr("type")&&(t=$(this).prop("checked")?"Yes":"No"),"object"==typeof t&&(t=t.join("; ")),a.items[e]=t,["name","email","subject"].indexOf(e)>-1&&(a[e]=t),o.push(e))}}),$.ajax({type:"POST",url:t.attr("action"),data:a,success:function(e){$(".mail-form-message").removeClass("d-none").html(e).slideDown(500),-1==e.indexOf("error")&&t.find("[name]:not([type=radio])").val("")},error:function(){$(".mail-form-message").removeClass("d-none").html('<p class="error">Something went wrong, try again!</p>').slideDown("slow")}})}else $(".mail-form-message").html('<p class="error">Please fill out required fields!</p>').slideDown("slow")});var gmaps_api_key=$(".google-map[data-api-key]:first").data("api-key");gmaps_api_key&&$("body").append('<script src="https://maps.googleapis.com/maps/api/js?key='+gmaps_api_key+'&callback=initMaps"><\/script>'),window.initMaps=function(){$(".google-map").each(function(){var e=$(this);e.addClass("ready");var t=e.data("latitude")||51.5255069,a=e.data("longitude")||-.0836207,o=e.data("zoom")||14,i=e.data("marker")||"img/map-marker.png",n=e.find(".map-pin"),s={center:new google.maps.LatLng(t,a),zoom:o,panControl:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,styles:[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}]},r=new google.maps.Map(e[0],s);"none"!=i&&new google.maps.Marker({position:new google.maps.LatLng(t,a),map:r,visible:!0,icon:i}),n.each(function(){var e=$(this),o=e.data("latitude")||t,i=e.data("longitude")||a,n=e.data("marker")||"img/map-marker.png";new google.maps.Marker({position:new google.maps.LatLng(o,i),map:r,visible:!0,icon:n})})})}}(jQuery);