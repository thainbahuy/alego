/*!
 * Achtung Masonry Grid v1.1.0
 * Copyright 2018 AchtungThemes
 */
NodeList.prototype.forEach=Array.prototype.forEach,function(){var Masonry=function(gridElement,options){this.el=gridElement,this.el.masonry=this,this.options=options||{},this.childSelector=this.el.getAttribute("data-child-selector")||"",this.children=this.childSelector?this.el.querySelectorAll(this.childSelector):this.el.children,this.filterSelector="",this.filteredSelection=[],this.filterButtonsWrapper=this.el.getAttribute("data-filter")||"",this.originalTransition="transform .3s ease, opacity .3s ease",this.currentTransition="0s",this.css3=!0,this.columns=parseInt(this.el.getAttribute("data-columns"))||3,this.gutter=parseInt(this.el.getAttribute("data-gutter"))||0,this.space=this.el.offsetWidth==document.body.clientWidth?"around":"between",this.cellRatio=eval(this.el.getAttribute("data-cell-ratio"))||5/4,this.mobileWidth=parseInt(this.el.getAttribute("data-mobile-width"))||768,this.colMinWidth=parseInt(this.el.getAttribute("data-col-min-width"))||350,this.init()};Masonry.prototype.init=function(){var t=this;this.el.style.position="relative",this.el.style.overflow="hidden",imagesLoaded(t.el,t.update.bind(t)),this.filterButtonsWrapper&&this.initFilterButtons();var e;function i(){t.currentTransition="0s",cancelAnimationFrame(e),e=requestAnimationFrame(t.update.bind(t))}window.addEventListener("resize",i);var r=document.createElement("iframe");r.id="resizeListener",r.style.cssText="position:absolute;pointerEvents:none;opacity:0;height:0;border:0;width:100%;",r.onload=function(){r.contentWindow.addEventListener("resize",i)},document.body.appendChild(r)},Masonry.prototype.update=function(){var t=this;t.gw=t.el.offsetWidth;var e=window.innerWidth>t.mobileWidth?t.columns:1;if(!t.options.gridMode){var i=Math.floor(t.gw/t.colMinWidth)||1;e=Math.min(i,e)}for(t.arr=[];e>0;e--)t.arr.push(0);t.gutterSum=(t.arr.length+("around"==t.space?1:-1))*t.gutter,t.iw=(t.gw-t.gutterSum)/t.arr.length;for(var r=0;r<t.children.length;r++){var n=t.children[r],s=t.arr,o=1;if(n.style.position="absolute",n.style.transition=t.currentTransition,t.filteredSelection.length&&-1===[].indexOf.call(t.filteredSelection,n))n.style.opacity=0,n.style.pointerEvents="none";else{if(t.options.gridMode){o=parseInt(n.getAttribute("data-w"))||1;var a=parseInt(n.getAttribute("data-h"))||1;if(n.classList.contains("wide")&&(o=2),n.classList.contains("tall")&&(a=2),o>t.arr.length&&(o=t.arr.length),o>1){s=[];for(var l=0;l<=t.arr.length-o;l++){for(var h=[],c=l;c<l+o;c++)h.push(t.arr[c]);s.push(Math.max.apply(null,h))}}}var d=Math.min.apply(null,s),u=s.indexOf(d),p=u*t.iw+(u+("around"==t.space?1:0))*t.gutter,f=d||"around"==t.space?d+t.gutter:d;n.style.width=o*t.iw+(o-1)*t.gutter+"px",t.options.gridMode&&(n.style.height=a*t.iw/t.cellRatio+(a-1)*t.gutter+"px"),n.style.opacity=1,n.style.pointerEvents="auto",t.css3?n.style.transform="translate3d("+p+"px, "+f+"px, 0)":(n.style.left=p+"px",n.style.top=f+"px");for(l=u;l<u+o;l++)t.arr[l]=f+parseFloat(n.getBoundingClientRect().height)}}t.el.style.height=Math.max.apply(null,t.arr)+("around"==t.space?t.gutter:0)+"px"},Masonry.prototype.filter=function(t){this.filterSelector=t,this.filteredSelection=t&&t.length>1?this.el.querySelectorAll(t):[],this.currentTransition=this.originalTransition,this.update()},Masonry.prototype.initFilterButtons=function(){var t=this,e=document.querySelector(t.filterButtonsWrapper);e&&e.querySelectorAll("[data-filter]").forEach(function(i){var r=i.getAttribute("data-filter");i.addEventListener("click",function(n){if(n.preventDefault(),!i.classList.contains("is-active")){var s=e.querySelector(".is-active");s&&s.classList.remove("is-active"),i.classList.add("is-active"),t.filter(r)}})})},document.querySelectorAll(".grid").forEach(function(t){new Masonry(t,{gridMode:!0})}),document.querySelectorAll(".masonry").forEach(function(t){new Masonry(t)})}();